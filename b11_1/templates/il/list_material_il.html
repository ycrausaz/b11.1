{% extends "base_generic.html" %}

<!-- templates/list_material.html -->
{% block content %}
<h1>Liste des mat√©riels</h1>
<br/>
<form method="post" id="material-form">
    {% csrf_token %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th><input type="checkbox" id="select-all"></th>
                <th>Material</th>
            </tr>
        </thead>
        <tbody>
            {% for mat in list_material_il %}
                <tr>
                    <td><input type="checkbox" name="selected_materials" value="{{ mat.id }}"></td>
                    <td><a href="{% url 'update-material-il' mat.id %}">{{ mat }}</a></td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <br/>
    <button type="submit" name="action" value="transfer" class="btn btn-primary">Transfer</button>
    <button type="submit" name="action" value="delete" class="btn btn-danger">Delete</button>
</form>
<br/>
<hr><br/>

<script>
    document.getElementById('select-all').onclick = function() {
        var checkboxes = document.getElementsByName('selected_materials');
        for (var checkbox of checkboxes) {
            checkbox.checked = this.checked;
        }
    }
</script>
{% endblock %}
